(window.webpackJsonp=window.webpackJsonp||[]).push([["app"],{1516:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1517),o=n(1518),i=n(1519),a=n(1520),s=n(1521);t.preload=function(){this.load.image("sky",r),this.load.image("ground",i),this.load.image("star",o),this.load.image("bomb",a),this.load.spritesheet("dude",s,{frameWidth:32,frameHeight:48})}},1517:function(e,t,n){e.exports=n.p+"static/imgs/sky.cb8fe210.png"},1518:function(e,t,n){e.exports=n.p+"static/imgs/star.3bbfad74.png"},1519:function(e,t,n){e.exports=n.p+"static/imgs/platform.fc7d654a.png"},1520:function(e,t,n){e.exports=n.p+"static/imgs/bomb.185c1ec9.png"},1521:function(e,t,n){e.exports=n.p+"static/imgs/dude.8615288f.png"},1522:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(247);var r=n(327),o=n(328);t.create=function(){var e=this;this.add.image(window.innerWidth/2,window.innerHeight/2,"sky").setScale(2),r.Global.platforms=this.physics.add.staticGroup(),r.Global.platforms.create(400,window.innerHeight+80,"ground").setScale(7).refreshBody(),r.Global.platforms.create(400,window.innerHeight-160,"ground"),r.Global.platforms.create(900,window.innerHeight-240,"ground"),r.Global.platforms.create(-50,window.innerHeight-320,"ground"),r.Global.platforms.create(1050,window.innerHeight-400,"ground"),r.Global.platforms.create(-100,window.innerHeight-480,"ground"),r.Global.platforms.create(430,window.innerHeight-528,"ground"),r.Global.player=this.physics.add.sprite(100,450,"dude"),r.Global.player.setBounce(.2),r.Global.player.setCollideWorldBounds(!0),this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("dude",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"turn",frames:[{key:"dude",frame:4}],frameRate:20}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("dude",{start:5,end:8}),frameRate:10,repeat:-1}),this.physics.add.collider(r.Global.player,r.Global.platforms),r.Global.cursors=this.input.keyboard.createCursorKeys(),r.Global.stars=this.physics.add.group({key:"star",repeat:17,setXY:{x:5,y:0,stepX:70}}),r.Global.stars.children.iterate(function(e){e.setBounceY(Phaser.Math.FloatBetween(.4,.8))}),this.physics.add.collider(r.Global.stars,r.Global.platforms),this.physics.add.overlap(r.Global.player,r.Global.stars,o.collectStar,null,this),r.Global.scoreText=this.add.text(16,16,"score: 0",{fontSize:"32px",fill:"#000"}),r.Global.bombs=this.physics.add.group(),this.physics.add.collider(r.Global.bombs,r.Global.platforms),this.physics.add.collider(r.Global.player,r.Global.bombs,o.hitBomb,null,this),o.eventEmmiter.on("pause",function(){e.physics.pause()}),o.eventEmmiter.on("resume",function(){e.physics.resume()})}},1523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.listenerList={}}return e.prototype.on=function(e,t){var n=this.listenerList[e]||[];if("function"!=typeof t)throw new TypeError(e+"."+t+" is not a function");n.push(t),this.listenerList[e]=n},e.prototype.emit=function(e){var t=this.listenerList[e],n=Array.prototype.slice.call(arguments,1);t&&t.length&&t.forEach(function(e){e(n)})},e.prototype.off=function(e,t){var n=this.listenerList[e];if(n&&n.length)if(t&&n.includes(t)){var r=n.indexOf(t);n.splice(r,1)}else t||delete this.listenerList[e]},e}();t.EventEmitter=r},1524:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(327),o=n(328);t.update=function(){r.Global.gameOver||(r.Global.cursors.left.isDown?(r.Global.player.setVelocityX(-160),r.Global.player.anims.play("left",!0),o.eventEmmiter.emit("onLeft")):r.Global.cursors.right.isDown?(r.Global.player.setVelocityX(160),r.Global.player.anims.play("right",!0),o.eventEmmiter.emit("onRight")):(r.Global.player.setVelocityX(0),r.Global.player.anims.play("turn")),r.Global.cursors.up.isDown&&r.Global.player.body.touching.down&&(r.Global.player.setVelocityY(-330),o.eventEmmiter.emit("onUp")))}},1525:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.over=function(){console.log("over")}},1526:function(e,t,n){"use strict";var r=n(219);n.n(r).a},1527:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){if(n)return n;var r={selector:null,x:null,y:null};if(e.hash&&(r.selector=e.hash),e.matched.some(function(e){return e.meta.scrollToTop})&&(r.x=0,r.y=0),e.matched.some(function(e){return e.meta.scrollToBottom})){var o=window.document.getElementsByTagName("body")[0].getBoundingClientRect().height;r.x=0,r.y=o}return new Promise(function(e,t){setTimeout(function(){e(r)},500)})}},1528:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.beforeEach=function(e,t,n){n()};t.beforeResolve=function(e,t,n){n()};t.afterEach=function(e,t){window.scrollTo(0,0)}},1529:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t);var r=n(209),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);t.default=o.a},209:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},210:function(e,t,n){},211:function(e,t,n){"use strict";n.r(t);var r=n(212),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);t.default=o.a},212:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(173),o=n(830);t.default=r.default.extend({components:{JslButton:o.default}})},213:function(e,t,n){"use strict";n.r(t);var r=n(214),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);t.default=o.a},214:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(173),o=n(831);t.default=r.default.extend({props:{text:{default:"按钮"},radius:{default:30},width:{default:375},height:{default:57},bgColor:{default:"#517DF7"},fontSize:{default:16},color:{default:"#FCFCFC"}},methods:{toVw:function(e){return o.toVw(e)}}})},215:function(e,t,n){},216:function(e,t,n){},217:function(e,t,n){"use strict";n.r(t);var r=n(218),o=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);t.default=o.a},218:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(173),o=n(835),i=n(328);t.default=r.default.extend({data:function(){return{text:"button",gameStatus:"pause",x:0,y:0}},methods:{onLeft:function(){this.text="left"},onRight:function(){this.text="right"},onUp:function(){this.text="up"},handleClick:function(){"pause"===this.gameStatus?(i.eventEmmiter.emit("pause"),this.gameStatus="resume"):(i.eventEmmiter.emit("resume"),this.gameStatus="pause")}},mounted:function(){i.eventEmmiter.on("onLeft",this.onLeft),i.eventEmmiter.on("onRight",this.onRight),i.eventEmmiter.on("onUp",this.onUp),o.createGame()}})},219:function(e,t,n){},327:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Global={platforms:null,player:null,cursors:null,stars:null,score:0,scoreText:null,bombs:null,gameOver:!1}},328:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(247);var i=n(327),r=n(1523);t.collectStar=function(e,t){t.disableBody(!0,!0),i.Global.score+=10,i.Global.scoreText.setText("Score: "+i.Global.score);var n=i.Global.stars;if(0===n.countActive(!0)){n.children.iterate(function(e){e.enableBody(!0,e.x,0,!0,!0)});var r=e.x<400?Phaser.Math.Between(400,800):Phaser.Math.Between(0,400),o=i.Global.bombs.create(r,16,"bomb");o.setBounce(1),o.setCollideWorldBounds(!0),o.setVelocity(Phaser.Math.Between(-200,200),20),o.allowGravity=!1}},t.hitBomb=function(e,t){this.physics.pause(),e.setTint(16711680),e.anims.play("turn"),this.add.text(window.innerWidth/2-176,window.innerHeight/2,"GAME OVER",{fontSize:"66px",fill:"#f00"}),i.Global.gameOver=!0},t.eventEmmiter=new r.EventEmitter},330:function(e,t,n){"use strict";var r=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"app-main",attrs:{id:"main"}},[t("transition",[t("router-view")],1)],1)},o=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},331:function(e,t,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"welcome-root"},[n("div",{staticClass:"avatar"}),n("div",{staticClass:"title"},[t._v("\n    welcome to vue-phaser\n  ")]),n("div",{staticClass:"description"},[t._v("\n    a vue project build for phaser games develop more efficient\n  ")]),n("jsl-button",{attrs:{text:"click to game"},nativeOn:{click:function(e){t.$router.push({name:"game"})}}})],1)},o=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},332:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-root"},[n("div",{staticClass:"game",staticStyle:{position:"relative"},attrs:{id:"game"}},[n("div",{staticClass:"btn"},[e._v("\n      "+e._s(e.text)+"\n    ")]),n("div",{staticClass:"game-status",on:{click:e.handleClick}},[e._v("\n      "+e._s(e.gameStatus)+"\n    ")])])])},o=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},333:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"button-root",style:{backgroundColor:e.bgColor,fontSize:e.toVw(e.fontSize),color:e.color,width:e.toVw(e.width),height:e.toVw(e.height),lineHeight:e.toVw(e.height),borderRadius:e.toVw(e.radius)}},[e._v("\n"+e._s(e.text)+"\n")])},o=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},619:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(620);var r=n(173),o=n(368),i=n(824),a=n(826);n(1529);var s=n(1530);console.log("Vue",r.default),r.default.use(o.default),s.default.defaults.baseURL="/",new r.default({el:"#app",router:a.default,render:function(e){return e(i.default)}})},824:function(e,t,n){"use strict";n.r(t);var r=n(330),o=n(208);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);n(825);var a=n(95),s=Object(a.a)(o.default,r.a,r.b,!1,null,"2b82a8ae",null);s.options.__file="App.vue",t.default=s.exports},825:function(e,t,n){"use strict";var r=n(210);n.n(r).a},826:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(368),o=n(827),i=n(1528),a=new r.default(o.default);Object.keys(i).forEach(function(e){a[e](i[e])}),t.default=a},827:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(828),o=n(1527),i={base:"/vue-phaser/",routes:r.default,scrollBehavior:o.default};t.default=i},828:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[{path:"/",redirect:"/welcome"},{path:"/welcome",name:"welcome",component:function(){return Promise.resolve().then(function(){return n(829)})}},{path:"/game",name:"game",component:function(){return Promise.resolve().then(function(){return n(834)})}},{path:"*",redirect:"/"}]},829:function(e,t,n){"use strict";n.r(t);var r=n(331),o=n(211);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);n(833);var a=n(95),s=Object(a.a)(o.default,r.a,r.b,!1,null,"439046f8",null);s.options.__file="welcome.vue",t.default=s.exports},830:function(e,t,n){"use strict";n.r(t);var r=n(333),o=n(213);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);n(832);var a=n(95),s=Object(a.a)(o.default,r.a,r.b,!1,null,"0b039c74",null);s.options.__file="button.vue",t.default=s.exports},831:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocal=function(e){return JSON.parse(window.localStorage.getItem(e))},t.setLocal=function(e,t){window.localStorage.setItem(e,JSON.stringify(t))},t.formatQuery=function(t){var n="?";return Object.keys(t).forEach(function(e){n+=e+"="+t[e]}),n},t.toVw=function(e){return(+Number(e).toFixed(5)/375*100).toFixed(5)+"vw"}},832:function(e,t,n){"use strict";var r=n(215);n.n(r).a},833:function(e,t,n){"use strict";var r=n(216);n.n(r).a},834:function(e,t,n){"use strict";n.r(t);var r=n(332),o=n(217);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);n(1526);var a=n(95),s=Object(a.a)(o.default,r.a,r.b,!1,null,null,null);s.options.__file="game.vue",t.default=s.exports},835:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(247);var r=n(1516),o=n(1522),i=n(1524),a=n(1525);console.log("Phaser",Phaser);var s={width:window.innerWidth,height:window.innerHeight,type:Phaser.AUTO,parent:"game",physics:{default:"arcade",arcade:{gravity:{y:300},debug:!1}},scene:{preload:r.preload,create:o.create,update:i.update,over:a.over}};t.createGame=function(){return new Phaser.Game(s)}}},[[619,"runtime~app","vendors~app"]]]);